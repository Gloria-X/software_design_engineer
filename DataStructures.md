# 数据结构

 ## 线性结构

### 顺序表和链表

每个元素**最多只有一个出度和一个入度**，表现为一条线状。线性表按存储方式分为顺序表和链表。

> 树只能有一个出度，和 n 个入度
>
> 图可以有 n 个出度，和 n 个入度

存储结构：

- 顺序存储：用一组地址连续的存储单元依次存储线性表中的数据元素，使得**逻辑上相邻的元素物理上也相邻**。
- 链式存储：存储各数据元素的结点的地址并不要求是连续的，数据元素**逻辑上相邻，物理上分开**。

> 线性结构反应的是逻辑关系，物理地址不一定相邻
>
> 顺序存储因为物理地址上也相邻，便于定位
>
> 链式存储引用指针，查看下一元素的物理位置    **数据域 | 指针域**

![顺序表链表](./imgs/9.1-顺序表链表.png)

顺序存储和链式存储对比：

| 性能类别 | 具体项目 | 顺序存储                         | 链式存储                             |
| -------- | -------- | -------------------------------- | ------------------------------------ |
| 空间性能 | 存储密度 | =1，更优                         | <1                                   |
|          | 容量分配 | 事先确定                         | 动态改变，更优                       |
| 时间性能 | 查找运算 | O(n/2)                           | O(n/2)                               |
|          | 读运算   | O(1)，更优                       | O([n+1]/2)，最好情况为1，最坏情况为n |
|          | 插入运算 | O(n/2)，最好情况为0，最坏情况为n | O(1)，更优                           |
|          | 删除运算 | O([n-1]/2)                       | O(1)，更优                           |

在空间方面，因为**链表还需要存储指针，因此有空间浪费存在**。（顺序表利用率 100%）

在时间方面，当🔺**需要对元素进行破坏性操作（插入、删除）时，链表效率更高**，因为其只需要修改指针指向即可，而顺序表因为地址是连续的，当删除或插入一个元素后，后面的其他节点位置都需要变动。

> 顺序表每个元素是相邻的，中间没有空余的存储空间了，需要把后面所有的元素整体往后移动，才有空间插入数据
>
> 链表插入数据只需把前一元素指针指向新元素，新元素指针指向后一元素即可

而当需要对元素进行🔺**不改变结构操作时（读取、查找），顺序表效率更高**，因为其物理地址是连续的，如同数组一般只需按索引号就可快速定位，而链表需要从头节点开始，一个个的查找下去。

### 栈和队列

**队列是先进先出**，分队头和队尾；

**栈是先进后出**，只有栈顶能进出。

![栈和队列](./imgs/9.1-栈和队列.png)

#### 循环队列

设循环队列 Q 的容量为 `MAXSIZE`，初始时队列为空，且 `Q.rear` 和 `Q.front` 都等于 0

元素入队时修改队尾指针，即令`Q.rear=(Q.rear+1)%MAXSIZE`

元素出队时修改队头指针，即令`Q.front=(Q.front+1)%MAXSIZE`

> 队头指向第一个元素，是为了读操作
>
> 队尾指针指向最后一个元素的下一个元素，为了写操作，指向空闲区域能直接写

根据队列操作的定义，当出队操作导致队列变为空时，有`Q.rear==Q.front`；

若入队操作导致队列满，则`Q.rear==Q.front`。

![循环队列](./imgs/9.1-循环队列.png)

在队列空和队列满的情况下，循环队列的队头、队尾指针指向的位置是相同的，此时仅仅根据 `Q.rear` 和 `Q.front` 之间的关系无法断定队列的状态。为了区别队空和队满的情况，可采用以下两种处理方式：

其一是设置一个标志，以区别头、尾指针的值相同时队列是空还是满；

其二是**牺牲一个存储单元，约定以“队列的尾指针所指位置的下一个位置是队头指针时”表示队列满**，如图所示而**头、尾指针的值相同时表示队列为空**。

> `Q.front=(Q.rear+1)%MAXSIZE`

![循环队列2](./imgs/9.1-循环队列2.png)

例：

![顺序栈队列例题](./imgs/9.1-顺序栈队列例题.jpg)



















